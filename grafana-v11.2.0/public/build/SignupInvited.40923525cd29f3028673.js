"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[8576],{14383:(T,m,e)=>{e.r(m),e.d(m,{SignupInvitedPage:()=>E,default:()=>j});var a=e(74848),_=e(32196),l=e(96540),g=e(16817),r=e(17172),P=e(40845),i=e(88575),t=e(10354),v=e(55852),p=e(72235),c=e(69444),D=e(2913),h=e(10096),M=e(35538);const O={main:{icon:"grafana",text:"Invite",subTitle:"Register your Grafana account",breadcrumbs:[{title:"Login",url:"login"}]},node:{text:""}},E=({match:o})=>{const d=o.params.code,[u,I]=(0,l.useState)(),[f,A]=(0,l.useState)(),[B,C]=(0,l.useState)(),U=(0,P.of)(x);(0,g.A)(async()=>{const n=await(0,r.AI)().get(`/api/user/invite/${d}`);I({email:n.email,name:n.name,username:n.email}),A(n.name||n.email||n.username),C(n.invitedBy)},[d]);const L=async n=>{await(0,r.AI)().post("/api/user/invite/complete",{...n,inviteCode:d}),window.location.href=(0,D.zj)().appSubUrl+"/"};return u?(0,a.jsx)(c.Y,{navModel:O,children:(0,a.jsxs)(c.Y.Contents,{children:[(0,a.jsxs)("h3",{className:"page-sub-heading",children:["Hello ",f||"there","."]}),(0,a.jsxs)("div",{className:(0,_.cx)("modal-tagline",U.tagline),children:[(0,a.jsx)("em",{children:B||"Someone"})," has invited you to join Grafana and the organization"," ",(0,a.jsx)("span",{className:"highlight-word",children:h.contextSrv.user.orgName}),(0,a.jsx)("br",{}),"Please complete the following and choose a password to accept your invitation and continue:"]}),(0,a.jsx)(p.l,{defaultValues:u,onSubmit:L,children:({register:n,errors:s})=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.D,{invalid:!!s.email,error:s.email&&s.email.message,label:"Email",children:(0,a.jsx)(t.p,{placeholder:"email@example.com",...n("email",{required:"Email is required",pattern:{value:M.pL,message:"Email is invalid"}})})}),(0,a.jsx)(i.D,{invalid:!!s.name,error:s.name&&s.name.message,label:"Name",children:(0,a.jsx)(t.p,{placeholder:"Name (optional)",...n("name")})}),(0,a.jsx)(i.D,{invalid:!!s.username,error:s.username&&s.username.message,label:"Username",children:(0,a.jsx)(t.p,{...n("username",{required:"Username is required"}),placeholder:"Username"})}),(0,a.jsx)(i.D,{invalid:!!s.password,error:s.password&&s.password.message,label:"Password",children:(0,a.jsx)(t.p,{...n("password",{required:"Password is required"}),type:"password",placeholder:"Password"})}),(0,a.jsx)(v.$n,{type:"submit",children:"Sign up"})]})})]})}):null},x=o=>({tagline:(0,_.css)({paddingBottom:o.spacing(3)})}),j=E}}]);

//# sourceMappingURL=SignupInvited.40923525cd29f3028673.js.map