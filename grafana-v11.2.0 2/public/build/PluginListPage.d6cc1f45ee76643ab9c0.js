"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[4519],{50691:(M,y,a)=>{a.d(y,{fk:()=>R,yf:()=>$,Df:()=>p,Uj:()=>N,Jn:()=>T,z$:()=>E});var s=a(74848),t=a(43429),u=a(39938);function p({error:r}){const c=x(r);return(0,s.jsx)(u.E,{icon:"exclamation-triangle",text:"Disabled",color:"red",tooltip:c})}function x(r){switch(r){case t.ZK.modifiedSignature:return"Plugin disabled due to modified content";case t.ZK.invalidSignature:return"Plugin disabled due to invalid plugin signature";case t.ZK.missingSignature:return"Plugin disabled due to missing plugin signature";case null:case void 0:return"Plugin disabled";default:return`Plugin disabled due to unknown error${r?`: ${r}`:""}`}}var d=a(40845),j=a(32196);const f=r=>(0,j.css)`
  background: ${r.colors.background.primary};
  border-color: ${r.colors.border.strong};
  color: ${r.colors.text.secondary};
`;function T(){const r=(0,d.of)(f);return(0,s.jsx)(u.E,{text:"Installed",color:"orange",className:r})}var D=a(33378),b=a(67061),L=a(98624);function N({plugin:r}){const c=(0,d.of)(f);return(0,D.a)("enterprise.plugins")?(0,s.jsx)(u.E,{text:"Enterprise",color:"blue"}):(0,s.jsxs)(b.B,{wrap:"wrap",children:[(0,s.jsx)(L.B,{status:r.signature}),(0,s.jsx)(u.E,{icon:"lock",role:"img","aria-label":"lock icon",text:"Enterprise",color:"blue",className:c,title:"Requires a Grafana Enterprise license"})]})}function E({plugin:r}){const c=(0,d.of)(I);return(0,s.jsx)("p",{className:c.hasUpdate,children:"Update available!"})}const I=r=>({hasUpdate:(0,j.css)`
      color: ${r.colors.text.secondary};
      font-size: ${r.typography.bodySmall.fontSize};
      margin-bottom: 0;
    `});function R(){return(0,s.jsx)(u.E,{icon:"exclamation-triangle",text:"Angular",color:"orange",tooltip:"This plugin uses deprecated functionality, support for which is being removed."})}function $(){return(0,s.jsx)(u.E,{icon:"exclamation-triangle",text:"Deprecated",color:"orange",tooltip:"This plugin is deprecated and no longer receives updates."})}},31036:(M,y,a)=>{a.d(y,{E:()=>d});var s=a(74848),t=a(14110),u=a(68402),p=a(72109),x=a(8484);const d=()=>(0,s.jsxs)("div",{children:[(0,s.jsx)(u.$,{v:2}),(0,s.jsx)(p.Y,{href:"https://github.com/grafana/grafana/issues/new?assignees=&labels=area%2Fdatasource%2Ctype%2Fnew-plugin-request&projects=&template=3-data_source_request.yaml&title=%5BNew+Data+Source%5D%3A+%3Cname-of-service%3E",onClick:()=>(0,t.rR)("connections_data_source_request_clicked"),external:!0,children:(0,s.jsx)(x.x6,{i18nKey:"connections.connect-data.request-data-source",children:"Request a new data source"})}),(0,s.jsx)("br",{}),(0,s.jsx)(p.Y,{href:"https://github.com/orgs/grafana/projects/619/views/1?pane=info",onClick:()=>(0,t.rR)("connections_data_source_roadmap_clicked"),external:!0,children:(0,s.jsx)(x.x6,{i18nKey:"connections.connect-data.roadmap",children:"View roadmap"})})]})},65965:(M,y,a)=>{a.r(y),a.d(y,{default:()=>ds});var s=a(74848),t=a(32196),u=a(24180),p=a(39601),x=a(40845),d=a(88575),j=a(90182),f=a(94354),T=a(56034),D=a(69444),b=a(17422),L=a(6320),N=a(31678),E=a(42930),I=a(32264),R=a(69529),$=a(71259),r=a(8484),c=a(66253),C=a(70255),Q=a(14110),V=a(14578),z=a(67061),G=a(39938),w=a(72129),X=a(43429),k=a(98624),g=a(50691);function q({plugin:n}){const l=n.hasUpdate&&!n.isCore&&n.type!==X.QE.renderer;return n.isEnterprise?(0,s.jsxs)(z.B,{height:"auto",wrap:"wrap",children:[(0,s.jsx)(g.Uj,{plugin:n}),n.isDisabled&&(0,s.jsx)(g.Df,{error:n.error}),l&&!n.isManaged&&(0,s.jsx)(g.z$,{plugin:n}),n.angularDetected&&(0,s.jsx)(g.fk,{})]}):(0,s.jsxs)(z.B,{height:"auto",wrap:"wrap",children:[(0,s.jsx)(k.B,{status:n.signature}),n.isDisabled&&(0,s.jsx)(g.Df,{error:n.error}),n.isDeprecated&&(0,s.jsx)(g.yf,{}),n.isInstalled&&(0,s.jsx)(g.Jn,{}),l&&!n.isManaged&&(0,s.jsx)(g.z$,{plugin:n}),n.angularDetected&&(0,s.jsx)(g.fk,{})]})}function _({alt:n,className:l,src:e,height:o}){return(0,s.jsx)("img",{src:e,className:l,alt:n,loading:"lazy",height:o})}const P="48px";function ss({plugin:n,pathName:l,displayMode:e=c.fy.Grid}){const o=(0,x.of)(W),i=e===c.fy.List,B=()=>{p.Ny.getSearchObject()?.q&&(0,Q.rR)("plugins_search_user_click",{})};return(0,s.jsxs)("a",{href:`${l}/${n.id}`,className:(0,t.cx)(o.container,{[o.list]:i}),onClick:B,children:[(0,s.jsx)(_,{src:n.info.logos.small,className:o.pluginLogo,height:P,alt:""}),(0,s.jsx)("h2",{className:(0,t.cx)(o.name,"plugin-name"),children:n.name}),(0,s.jsxs)("div",{className:(0,t.cx)(o.content,"plugin-content"),children:[(0,s.jsxs)("p",{children:["By ",n.orgName]}),(0,s.jsx)(q,{plugin:n})]}),(0,s.jsx)("div",{className:o.pluginType,children:n.type&&(0,s.jsx)(V.I,{name:c.Ip[n.type],title:`${n.type} plugin`})})]})}const ns=({displayMode:n=c.fy.Grid,rootProps:l})=>{const e=(0,x.of)(W),o=n===c.fy.List;return(0,s.jsxs)("div",{className:(0,t.cx)(e.container,{[e.list]:o}),...l,children:[(0,s.jsx)(C.A,{containerClassName:(0,t.cx)(e.pluginLogo,(0,t.css)({lineHeight:1})),width:P,height:P}),(0,s.jsx)("h2",{className:e.name,children:(0,s.jsx)(C.A,{width:100})}),(0,s.jsxs)("div",{className:e.content,children:[(0,s.jsx)("p",{children:(0,s.jsx)(C.A,{width:120})}),(0,s.jsxs)(z.B,{direction:"row",children:[(0,s.jsx)(G.E.Skeleton,{}),(0,s.jsx)(G.E.Skeleton,{})]})]}),(0,s.jsx)("div",{className:e.pluginType,children:(0,s.jsx)(C.A,{width:16,height:16})})]})},O=(0,w.j)(ss,ns),W=n=>({container:(0,t.css)({display:"grid",gridTemplateColumns:`${P} 1fr ${n.spacing(3)}`,gridTemplateRows:"auto",gap:n.spacing(2),gridAutoFlow:"row",background:n.colors.background.secondary,borderRadius:n.shape.radius.default,padding:n.spacing(3),[n.transitions.handleMotion("no-preference","reduce")]:{transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short})},"&:hover":{background:n.colors.emphasize(n.colors.background.secondary,.03)}}),list:(0,t.css)({rowGap:0,"> img":{alignSelf:"start"},"> .plugin-content":{minHeight:0,gridArea:"2 / 2 / 4 / 3","> p":{margin:n.spacing(0,0,.5,0)}},"> .plugin-name":{alignSelf:"center",gridArea:"1 / 2 / 2 / 3"}}),pluginType:(0,t.css)({gridArea:"1 / 3 / 2 / 4",color:n.colors.text.secondary}),pluginLogo:(0,t.css)({gridArea:"1 / 1 / 3 / 2",maxWidth:"100%",alignSelf:"center",objectFit:"contain"}),content:(0,t.css)({gridArea:"3 / 1 / 4 / 3",color:n.colors.text.secondary}),name:(0,t.css)({gridArea:"1 / 2 / 3 / 3",alignSelf:"center",fontSize:n.typography.h4.fontSize,color:n.colors.text.primary,margin:0,wordBreak:"normal",overflowWrap:"anywhere"})}),as=({plugins:n,displayMode:l,isLoading:e})=>{const o=l===c.fy.List,{pathname:i}=(0,u.zy)(),B=I.$.appSubUrl+(i.endsWith("/")?i.slice(0,-1):i);return!e&&n.length===0?(0,s.jsx)(R.p,{variant:"not-found",message:(0,r.t)("plugins.empty-state.message","No plugins found")}):(0,s.jsx)($.x,{gap:3,...o?{columns:1}:{minColumnWidth:34},"data-testid":"plugin-list",children:e?new Array(50).fill(null).map((v,m)=>(0,s.jsx)(O.Skeleton,{displayMode:l},m)):n.map(v=>(0,s.jsx)(O,{plugin:v,pathName:B,displayMode:l},v.id))})};var es=a(31036),F=a(96540),ts=a(40996),os=a(67647);const rs=(n,l=0,e=[])=>{const o=(0,F.useRef)(!0),i=[...e,o];return(0,ts.A)(()=>{if(o.current){o.current=!1;return}return n()},l,i)},ls=({value:n,onSearch:l})=>{const[e,o]=(0,F.useState)(n);return rs(()=>l(e??""),500,[e]),(0,s.jsx)(os.Z,{value:e,onKeyDown:i=>{(i.key==="Enter"||i.keyCode===13)&&l(i.currentTarget.value)},placeholder:"Search Grafana plugins",onChange:i=>{o(i)},width:46})};var is=a(5129);const cs=()=>({push:({query:n})=>{p.Ny.partial(n)}});var U=a(83391);function ds({route:n}){const l=(0,u.zy)(),e=(0,p.SE)(l.search),o=(0,N.useSelector)(h=>(0,b.tc)(h.navIndex,"plugins")),{displayMode:i,setDisplayMode:B}=(0,U.Tr)(),v=(0,x.of)(us),m=cs(),gs=(0,U.pw)(),K=e.q?.toString()||"",S=e.filterBy?.toString()||"all",A=e.filterByType||"all",Z=e.sortBy||is.by.nameAsc,{isLoading:hs,error:H,plugins:ps}=(0,U.PW)({keyword:K,type:A!=="all"?A:void 0,isInstalled:S==="installed"?!0:void 0,hasUpdate:S==="has-update"?!0:void 0},Z),Y=[{value:"all",label:"All"},{value:"installed",label:"Installed"},{value:"has-update",label:"New Updates"}],xs=h=>{m.push({query:{sortBy:h.value}})},J=h=>{m.push({query:{filterBy:h}})},vs=h=>{m.push({query:{filterByType:h.value}})},ys=h=>{m.push({query:{filterBy:S,filterByType:A,q:h}})};if(H)return console.error(H.message),null;const fs=(0,s.jsxs)("div",{children:["Extend the Grafana experience with panel plugins and apps. To find more data sources go to"," ",(0,s.jsx)("a",{className:"external-link",href:`${L.b.AddNewConnection}?cat=data-source`,children:"Connections"}),"."]});return(0,s.jsx)(D.Y,{navModel:o,subTitle:fs,children:(0,s.jsxs)(D.Y.Contents,{children:[(0,s.jsxs)(E.G,{wrap:!0,children:[(0,s.jsx)(d.D,{label:"Search",children:(0,s.jsx)(ls,{value:K,onSearch:ys})}),(0,s.jsxs)(E.G,{wrap:!0,className:v.actionBar,children:[(0,s.jsx)(d.D,{label:"Type",children:(0,s.jsx)(j.l6,{"aria-label":"Plugin type filter",value:A,onChange:vs,width:18,options:[{value:"all",label:"All"},{value:"datasource",label:"Data sources"},{value:"panel",label:"Panels"},{value:"app",label:"Applications"}]})}),gs?(0,s.jsx)(d.D,{label:"State",children:(0,s.jsx)(f.z,{value:S,onChange:J,options:Y})}):(0,s.jsx)(T.m,{content:"This filter has been disabled because the Grafana server cannot access grafana.com",placement:"top",children:(0,s.jsx)("div",{children:(0,s.jsx)(d.D,{label:"State",children:(0,s.jsx)(f.z,{disabled:!0,value:S,onChange:J,options:Y})})})}),(0,s.jsx)(d.D,{label:"Sort",children:(0,s.jsx)(j.l6,{"aria-label":"Sort Plugins List",width:24,value:Z,onChange:xs,options:[{value:"nameAsc",label:"By name (A-Z)"},{value:"nameDesc",label:"By name (Z-A)"},{value:"updated",label:"By updated date"},{value:"published",label:"By published date"},{value:"downloads",label:"By downloads"}]})}),(0,s.jsx)(d.D,{label:"View",children:(0,s.jsx)(f.z,{className:v.displayAs,value:i,onChange:B,options:[{value:c.fy.Grid,icon:"table",description:"Display plugins in a grid layout"},{value:c.fy.List,icon:"list-ul",description:"Display plugins in list"}]})})]})]}),(0,s.jsx)("div",{className:v.listWrap,children:(0,s.jsx)(as,{plugins:ps,displayMode:i,isLoading:hs})}),(0,s.jsx)(es.E,{})]})})}const us=n=>({actionBar:(0,t.css)({[n.breakpoints.up("xl")]:{marginLeft:"auto"}}),listWrap:(0,t.css)({marginTop:n.spacing(2)}),displayAs:(0,t.css)({svg:{marginRight:0}})})}}]);

//# sourceMappingURL=PluginListPage.d6cc1f45ee76643ab9c0.js.map