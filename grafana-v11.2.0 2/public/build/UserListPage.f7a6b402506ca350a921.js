"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[1743],{65551:(xs,T,a)=>{a.r(T),a.d(T,{default:()=>ne});var s=a(74848),c=a(32196),x=a(96540),P=a(13544),N=a(32264),g=a(40675),y=a(40845),F=a(63021),d=a(8484),G=a(16233),f=a(72254),C=a(69444),M=a(31678),O=a(71468),V=a(36663),Y=a(42418),D=a(10096),L=a(69546),K=a(10534),j=a(55852),Z=a(47259);const H={revokeInvite:Z.eb},w=(0,O.connect)(null,H);class k extends x.PureComponent{render(){const{invitee:n,revokeInvite:t}=this.props;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:n.email}),(0,s.jsx)("td",{children:n.name}),(0,s.jsxs)("td",{className:"text-right",children:[(0,s.jsx)(K.b,{icon:"copy",variant:"secondary",size:"sm",getText:()=>n.url,children:"Copy Invite"}),"\xA0"]}),(0,s.jsx)("td",{children:(0,s.jsx)(j.$n,{variant:"destructive",size:"sm",icon:"times",onClick:()=>t(n.code),"aria-label":"Revoke Invite"})})]})}}const R=w(k);class A extends x.PureComponent{render(){const{invitees:n}=this.props;return(0,s.jsxs)("table",{className:"filter-table form-inline",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Email"}),(0,s.jsx)("th",{children:"Name"}),(0,s.jsx)("th",{}),(0,s.jsx)("th",{style:{width:"34px"}})]})}),(0,s.jsx)("tbody",{"data-testid":"InviteesTable-body",children:n.map((t,o)=>(0,s.jsx)(R,{invitee:t},`${t.id}-${o}`))})]})}}var W=a(25508),$=a(40823);const{selectAll:q,selectById:ms,selectTotal:_}=$.Tp,ss=(e,n)=>n,es=(0,W.Mz)([q,ss],(e,n)=>{const t=new RegExp(n,"i");return e.filter(i=>t.test(i.name)||t.test(i.email))});var J=a(14186),E=a(67647),B=a(94354),z=a(2913),as=a(2543),S=a(17172),r=a(80714),u=a(87617);function b(){return async(e,n)=>{try{e((0,u.Cj)());const{perPage:t,page:o,searchQuery:i,sort:h}=n().users,m=await(0,S.AI)().get("/api/org/users/search",(0,r.F)({perpage:t,page:o,query:i,sort:h}));if(D.contextSrv.licensedAccessControlEnabled()&&D.contextSrv.hasPermission(M.AccessControlAction.ActionUserRolesList)){e((0,u.dJ)());const l=D.contextSrv.user.orgId,p=m?.orgUsers.map(v=>v.userId),U=await(0,S.AI)().post("/api/access-control/users/roles/search",{userIds:p,orgId:l});m.orgUsers.forEach(v=>{v.roles=U?U[v.userId]||[]:[]}),e((0,u.jE)())}e((0,u.Y_)(m))}catch{(0,u.g4)()}}}const ns=(0,as.debounce)(e=>e(b()),300);function I(e){return async n=>{await(0,S.AI)().patch(`/api/org/users/${e.userId}`,{role:e.role}),n(b())}}function ts(e){return async n=>{await(0,S.AI)().delete(`/api/org/users/${e}`),n(b())}}function rs(e){return async n=>{n((0,u.EC)(e)),n(b())}}function As({sortBy:e}){const n=e.length?`${e[0].id}-${e[0].desc?"desc":"asc"}`:void 0;return async t=>{t((0,u.$u)(n)),t(b())}}function Us(e){return async n=>{n((0,u.t_)(e)),ns(n)}}const fs=e=>{const n=new RegExp(e.searchQuery,"i");return e.users.filter(t=>n.test(t.login)||n.test(t.email)||n.test(t.name))},os=e=>e.searchQuery;function Ds(e){return{searchQuery:os(e.users),pendingInvitesCount:_(e.invites),externalUserMngLinkName:e.users.externalUserMngLinkName,externalUserMngLinkUrl:e.users.externalUserMngLinkUrl}}const Ls={changeSearchQuery:Us},Es=(0,O.connect)(Ds,Ls)(({externalUserMngLinkName:e,externalUserMngLinkUrl:n,searchQuery:t,pendingInvitesCount:o,changeSearchQuery:i,onShowInvites:h,showInvites:m})=>{const l=[{label:"Users",value:"users"},{label:`Pending Invites (${o})`,value:"invites"}],U=D.contextSrv.hasPermission(M.AccessControlAction.OrgUsersAdd)&&!(z.Ay.disableLoginForm&&z.Ay.externalUserMngInfo);return(0,s.jsxs)("div",{className:"page-action-bar","data-testid":"users-action-bar",children:[(0,s.jsx)(J.I,{grow:!0,children:(0,s.jsx)(E.Z,{value:t,onChange:i,placeholder:"Search user by login, email or name"})}),o>0&&(0,s.jsx)("div",{style:{marginLeft:"1rem"},children:(0,s.jsx)(B.z,{value:m?"invites":"users",options:l,onChange:h})}),U&&(0,s.jsx)(j.z9,{href:"org/users/invite",children:"Invite"}),n&&(0,s.jsx)(j.z9,{href:n,target:"_blank",rel:"noopener",children:e})]})});function Is(e){const n=os(e.users);return{users:fs(e.users),searchQuery:os(e.users),page:e.users.page,totalPages:e.users.totalPages,perPage:e.users.perPage,invitees:es(e.invites,n),externalUserMngInfo:e.users.externalUserMngInfo,isLoading:e.users.isLoading,rolesLoading:e.users.rolesLoading}}const Ts={loadUsers:b,fetchInvitees:Z.G7,changePage:rs,changeSort:As,updateUser:I,removeUser:ts},is=(0,O.connect)(Is,Ts)(({users:e,page:n,totalPages:t,invitees:o,externalUserMngInfo:i,isLoading:h,rolesLoading:m,loadUsers:l,fetchInvitees:p,changePage:U,updateUser:v,removeUser:us,changeSort:re})=>{const[hs,oe]=(0,x.useState)(!1),ys=i?(0,V.G)(i):"";(0,x.useEffect)(()=>{l(),p()},[p,l]);const ie=(gs,he)=>{v({...he,role:gs})},le=gs=>us(gs.userId),ce=()=>{oe(!hs)},de=()=>{l()},ue=()=>hs?(0,s.jsx)(A,{invitees:o}):(0,s.jsx)(L.b,{users:e,orgId:D.contextSrv.user.orgId,rolesLoading:m,onRoleChange:ie,onRemoveUser:le,onUserRolesChange:de,fetchData:re,changePage:U,page:n,totalPages:t});return(0,s.jsxs)(C.Y.Contents,{isLoading:!h,children:[(0,s.jsx)(Es,{onShowInvites:ce,showInvites:hs}),ys&&(0,s.jsx)(Y.F,{severity:"info",title:"",children:(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:ys}})}),h&&ue()]})});function je(){return jsx(Page,{navId:"users",children:jsx(is,{})})}var Cs=a(75192),vs=a(56034),Ms=a(12942),Os=a(39938),ls=a(67061),Rs=a(48840),Bs=a(19384),Ss=a(23088);const Ns=e=>{if(!e.includes(" "))return{browser:e,computer:""};const n=e.split(" ");return{browser:n[0],computer:n[1]}},js=(e,n)=>e.length>n?e.substring(0,n)+"...":e,Ks=({value:e})=>{const n=Ns(e);return(0,s.jsx)(vs.m,{theme:"info-alt",content:e,placement:"top-end",interactive:!0,children:(0,s.jsxs)("span",{children:[js(n.browser,10),js(n.computer,10)]})})},Ws=({devices:e,showPaging:n,totalPages:t,onChangePage:o,currentPage:i,fetchData:h})=>{const m=(0,x.useMemo)(()=>[{id:"avatarUrl",header:"",cell:({cell:{value:l}})=>l&&(0,s.jsx)(Ms.e,{src:l,alt:"User avatar"})},{id:"login",header:"Login",cell:({cell:{value:l}})=>"Anonymous"},{id:"userAgent",header:"User Agent",cell:({cell:{value:l}})=>(0,s.jsx)(Ks,{value:l}),sortType:"string"},{id:"updatedAt",header:"Last active",cell:({cell:{value:l}})=>l,sortType:(l,p)=>new Date(l.original.updatedAt).getTime()-new Date(p.original.updatedAt).getTime()},{id:"clientIp",header:"Origin IP (address)",cell:({cell:{value:l}})=>l&&(0,s.jsx)(Os.E,{text:l,color:"orange"})}],[]);return(0,s.jsxs)(ls.B,{direction:"column",gap:2,children:[(0,s.jsx)(Rs.j,{columns:m,data:e,getRowId:l=>l.deviceId,fetchData:h}),n&&(0,s.jsx)(ls.B,{justifyContent:"flex-end",children:(0,s.jsx)(Bs.d,{numberOfPages:t,currentPage:i,onNavigate:o})}),e.length===0&&(0,s.jsx)(Ss.Z,{children:(0,s.jsx)("span",{children:"No anonymous users found."})})]})};var X=a(57334);const $s={fetchUsersAnonymousDevices:X.xq,changeAnonUserSort:X.A5,changeAnonPage:X.is,changeAnonQuery:X.Bc},zs=e=>({devices:e.userListAnonymousDevices.devices,query:e.userListAnonymousDevices.query,showPaging:e.userListAnonymousDevices.showPaging,totalPages:e.userListAnonymousDevices.totalPages,page:e.userListAnonymousDevices.page,filters:e.userListAnonymousDevices.filters}),Qs=P.Tp.pages.UserListPage.UserListAdminPage,bs=(0,O.connect)(zs,$s)(({devices:e,fetchUsersAnonymousDevices:n,query:t,changeAnonQuery:o,filters:i,showPaging:h,totalPages:m,page:l,changeAnonPage:p,changeAnonUserSort:U})=>{const v=(0,y.of)(Fs);return(0,x.useEffect)(()=>{n()},[n]),(0,s.jsxs)(C.Y.Contents,{children:[(0,s.jsx)("div",{className:v.actionBar,"data-testid":Qs.container,children:(0,s.jsxs)("div",{className:v.row,children:[(0,s.jsx)(E.Z,{placeholder:"Search devices by IP address.",autoFocus:!0,value:t,onChange:o}),(0,s.jsx)(B.z,{options:[{label:"Active last 30 days",value:!0}],value:i.find(us=>us.name==="activeLast30Days")?.value,className:v.filter})]})}),(0,s.jsx)(Ws,{devices:e,showPaging:h,totalPages:m,onChangePage:p,currentPage:l,fetchData:U})]})});function Pe(){return jsx(Page,{navId:"anonymous-users",children:jsx(bs,{})})}const Fs=e=>({filter:(0,c.css)({margin:e.spacing(0,1),[e.breakpoints.down("sm")]:{margin:0}}),actionBar:(0,c.css)({marginBottom:e.spacing(2),display:"flex",alignItems:"flex-start",gap:e.spacing(2),[e.breakpoints.down("sm")]:{flexWrap:"wrap"}}),row:(0,c.css)({display:"flex",alignItems:"flex-start",textAlign:"left",marginBottom:e.spacing(.5),flexGrow:1,[e.breakpoints.down("sm")]:{flexWrap:"wrap",gap:e.spacing(2),width:"100%"}})}),ye=null;var Gs=a(14578),Ys=a(78369),cs=a(72686),ds=a(37390),Zs=a(39558),ps=a(71678);const Hs=P.Tp.pages.UserListPage.UsersListPublicDashboardsPage.DashboardsListModal,Js=({email:e,onDismiss:n})=>{const t=(0,y.of)(Vs),{data:o,isLoading:i}=(0,cs.kd)(e);return(0,s.jsx)(ds.a,{className:t.modal,isOpen:!0,title:(0,d.t)("public-dashboard-users-access-list.modal.dashboard-modal-title","Public dashboards"),onDismiss:n,children:i?(0,s.jsx)("div",{className:t.loading,children:(0,s.jsx)(Zs._,{text:(0,d.t)("public-dashboard-users-access-list.dashboard-modal.loading-text","Loading...")})}):o?.map(h=>(0,s.jsxs)("div",{className:t.listItem,"data-testid":Hs.listItem(h.dashboardUid),children:[(0,s.jsx)("p",{className:t.dashboardTitle,children:h.dashboardTitle}),(0,s.jsxs)("div",{className:t.urlsContainer,children:[(0,s.jsx)("a",{rel:"noreferrer",target:"_blank",className:(0,c.cx)("external-link",t.url),href:(0,f.mL)(h.publicDashboardAccessToken),onClick:n,children:(0,s.jsx)(d.x6,{i18nKey:"public-dashboard-users-access-list.dashboard-modal.public-dashboard-link",children:"Public dashboard URL"})}),(0,s.jsx)("span",{className:t.urlsDivider,children:"\u2022"}),(0,s.jsx)("a",{className:(0,c.cx)("external-link",t.url),href:(0,f.gN)(h.dashboardUid,h.slug),onClick:n,children:(0,s.jsx)(d.x6,{i18nKey:"public-dashboard-users-access-list.dashboard-modal.public-dashboard-setting",children:"Public dashboard settings"})})]}),(0,s.jsx)("hr",{className:t.divider})]},h.dashboardUid))})},Xs=({email:e})=>{const n=(0,d.t)("public-dashboard-users-access-list.dashboard-modal.open-dashboard-list-text","Open dashboards list");return(0,s.jsx)(ps.$s,{children:({showModal:t,hideModal:o})=>(0,s.jsx)(j.$n,{variant:"secondary",size:"sm",icon:"question-circle",title:n,"aria-label":n,onClick:()=>t(Js,{email:e,onDismiss:o})})})},Vs=e=>({modal:(0,c.css)`
    width: 590px;
  `,loading:(0,c.css)`
    display: flex;
    justify-content: center;
  `,listItem:(0,c.css)`
    display: flex;
    flex-direction: column;
    gap: ${e.spacing(.5)};
  `,divider:(0,c.css)`
    margin: ${e.spacing(1.5,0)};
    color: ${e.colors.text.secondary};
  `,urlsContainer:(0,c.css)`
    display: flex;
    gap: ${e.spacing(.5)};

    ${e.breakpoints.down("sm")} {
      flex-direction: column;
    }
  `,urlsDivider:(0,c.css)`
    color: ${e.colors.text.secondary};
    ${e.breakpoints.down("sm")} {
      display: none;
    }
  `,dashboardTitle:(0,c.css)`
    font-size: ${e.typography.body.fontSize};
    font-weight: ${e.typography.fontWeightBold};
    margin-bottom: 0;
  `,url:(0,c.css)`
    font-size: ${e.typography.body.fontSize};
  `}),ws=({user:e,hideModal:n})=>{const[t]=(0,cs.g9)(),o=(0,y.of)(qs),i=()=>{t({email:e.email}),n()};return(0,s.jsxs)(ds.a,{className:o.modal,isOpen:!0,title:(0,d.t)("public-dashboard-users-access-list.delete-user-modal.revoke-access-title","Revoke access"),onDismiss:n,children:[(0,s.jsx)("p",{className:o.description,children:(0,s.jsxs)(d.x6,{i18nKey:"public-dashboard-users-access-list.delete-user-modal.revoke-user-access-modal-desc-line1",children:["Are you sure you want to revoke access for ",{email:e.email},"?"]})}),(0,s.jsx)("p",{className:o.description,children:(0,s.jsxs)(d.x6,{i18nKey:"public-dashboard-users-access-list.delete-user-modal.revoke-user-access-modal-desc-line2",shouldUnescape:!0,children:["This action will immediately revoke ",{email:e.email},"'s access to all public dashboards."]})}),(0,s.jsxs)(ds.a.ButtonRow,{children:[(0,s.jsx)(j.$n,{type:"button",variant:"secondary",onClick:n,fill:"outline",children:(0,s.jsx)(d.x6,{i18nKey:"public-dashboard-users-access-list.delete-user-modal.delete-user-cancel-button",children:"Cancel"})}),(0,s.jsx)(j.$n,{type:"button",variant:"destructive",onClick:i,children:(0,s.jsx)(d.x6,{i18nKey:"public-dashboard-users-access-list.delete-user-modal.delete-user-revoke-access-button",children:"Revoke access"})})]})]})},ks=({user:e})=>{const n=(0,d.t)("public-dashboard-users-access-list.delete-user-modal.delete-user-button-text","Delete user");return(0,s.jsx)(ps.$s,{children:({showModal:t,hideModal:o})=>(0,s.jsx)(j.$n,{size:"sm",variant:"destructive",onClick:()=>t(ws,{user:e,hideModal:o}),icon:"times","aria-label":n,title:n})})},qs=e=>({modal:(0,c.css)({width:"500px"}),description:(0,c.css)({fontSize:e.typography.body.fontSize,margin:0})}),_s=P.Tp.pages.UserListPage.publicDashboards,se=()=>{const{data:e,isLoading:n}=(0,cs.AK)();return(0,s.jsx)(C.Y.Contents,{isLoading:n,children:(0,s.jsxs)("table",{className:"filter-table form-inline","data-testid":_s.container,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:(0,s.jsx)(d.x6,{i18nKey:"public-dashboard-users-access-list.table-header.email-label",children:"Email"})}),(0,s.jsxs)("th",{children:[(0,s.jsx)("span",{children:(0,s.jsx)(d.x6,{i18nKey:"public-dashboard-users-access-list.table-header.activated-label",children:"Activated"})}),(0,s.jsx)(vs.m,{placement:"top",content:(0,d.t)("public-dashboard-users-access-list.table-header.activated-tooltip","Earliest time user has been an active user to a dashboard"),children:(0,s.jsx)(Gs.I,{name:"question-circle"})})]}),(0,s.jsx)("th",{children:(0,s.jsx)(d.x6,{i18nKey:"public-dashboard-users-access-list.table-header.last-active-label",children:"Last active"})}),(0,s.jsx)("th",{children:(0,s.jsx)(d.x6,{i18nKey:"public-dashboard-users-access-list.table-header.origin-label",children:"Origin"})}),(0,s.jsx)("th",{children:(0,s.jsx)(d.x6,{i18nKey:"public-dashboard-users-access-list.table-header.role-label",children:"Role"})}),(0,s.jsx)("th",{})]})}),(0,s.jsx)("tbody",{children:e?.map(t=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"max-width-10",children:(0,s.jsx)("span",{className:"ellipsis",title:t.email,children:t.email})}),(0,s.jsx)("td",{className:"max-width-10",children:t.firstSeenAtAge}),(0,s.jsx)("td",{className:"max-width-10",children:t.lastSeenAtAge}),(0,s.jsx)("td",{className:"max-width-10",children:(0,s.jsxs)(ls.B,{gap:2,children:[(0,s.jsxs)("span",{children:[t.totalDashboards," dashboard(s)"]}),(0,s.jsx)(Xs,{email:t.email})]})}),(0,s.jsx)("td",{className:"max-width-10",children:(0,s.jsx)(Ys.v,{name:"Viewer",colorIndex:19})}),(0,s.jsx)("td",{className:"text-right",children:(0,s.jsx)(ks,{user:t})})]},t.email))})]})})};var ee=(e=>(e.ADMIN="admin",e.ORG="org",e.PUBLIC_DASHBOARDS="public-dashboards",e.ANON="anon",e))(ee||{});const Q=P.Tp.pages.UserListPage,Ps=({view:e,setView:n})=>(0,s.jsx)(g.o,{label:(0,d.t)("users-access-list.tabs.public-dashboard-users-tab-title","Public dashboard users"),active:e==="public-dashboards",onChangeTab:()=>n("public-dashboards"),"data-testid":Q.tabs.publicDashboardsUsers}),ae={admin:(0,s.jsx)(Cs.PU,{}),org:(0,s.jsx)(is,{}),"public-dashboards":(0,s.jsx)(se,{}),anon:(0,s.jsx)(bs,{})};function ne(){const e=(0,y.of)(te),n=G.TP.hasPermission(M.AccessControlAction.UsersRead),t=G.TP.hasPermission(M.AccessControlAction.OrgUsersRead),[o,i]=(0,x.useState)(()=>n?"admin":t?"org":null),h=t&&n;return(0,s.jsxs)(C.Y,{navId:"global-users",children:[h?(0,s.jsxs)(F.U,{className:e.tabsMargin,children:[(0,s.jsx)(g.o,{label:"All users",active:o==="admin",onChangeTab:()=>i("admin"),"data-testid":Q.tabs.allUsers}),(0,s.jsx)(g.o,{label:"Organization users",active:o==="org",onChangeTab:()=>i("org"),"data-testid":Q.tabs.orgUsers}),N.$.anonymousEnabled&&(0,s.jsx)(g.o,{label:"Anonymous devices",active:o==="anon",onChangeTab:()=>i("anon"),"data-testid":Q.tabs.anonUserDevices}),(0,f.AY)()&&(0,s.jsx)(Ps,{view:o,setView:i})]}):(0,f.AY)()&&(0,s.jsxs)(F.U,{className:e.tabsMargin,children:[(0,s.jsx)(g.o,{label:"Users",active:o==="org",onChangeTab:()=>i("org"),"data-testid":Q.tabs.users}),(0,s.jsx)(Ps,{view:o,setView:i})]}),o?ae[o]:(0,s.jsx)(is,{})]})}const te=e=>({tabsMargin:(0,c.css)({marginBottom:e.spacing(3)})})},69546:(xs,T,a)=>{a.d(T,{b:()=>k});var s=a(74848),c=a(96540),x=a(13544),P=a(12942),N=a(94753),g=a(90613),y=a(56034),F=a(14578),d=a(78369),G=a(55852),f=a(67061),C=a(48840),M=a(19384),O=a(96374),V=a(89062),Y=a(85927),D=a(46334),L=a(10096),K=a(31678),j=a(5133);const Z=`This user's role is not editable because it is synchronized from your auth provider.
Refer to the Grafana authentication docs for details.`,H=R=>{const A=R?.isExternallySynced;return!L.contextSrv.hasPermissionInMetadata(K.AccessControlAction.OrgUsersWrite,R)||A},w=x.Tp.pages.UserListPage.UsersListPage,k=({users:R,orgId:A,onRoleChange:W,onUserRolesChange:$,onRemoveUser:q,fetchData:ms,changePage:_,page:ss,totalPages:es,rolesLoading:J})=>{const[E,B]=(0,c.useState)(null),[z,as]=(0,c.useState)([]);(0,c.useEffect)(()=>{async function r(){try{if(L.contextSrv.hasPermission(K.AccessControlAction.ActionRolesList)){let u=await(0,Y.RL)(A);as(u)}}catch{console.error("Error loading options")}}L.contextSrv.licensedAccessControlEnabled()&&r()},[A]);const S=(0,c.useMemo)(()=>[{id:"avatarUrl",header:"",cell:({cell:{value:r}})=>r&&(0,s.jsx)(P.e,{src:r,alt:"User avatar"})},{id:"login",header:"Login",cell:({cell:{value:r}})=>(0,s.jsx)("div",{children:r}),sortType:"string"},{id:"email",header:"Email",cell:({cell:{value:r}})=>r,sortType:"string"},{id:"name",header:"Name",cell:({cell:{value:r}})=>r,sortType:"string"},{id:"lastSeenAtAge",header:"Last active",cell:({cell:{value:r}})=>(0,s.jsx)(s.Fragment,{children:r&&(0,s.jsx)(s.Fragment,{children:r==="10 years"?(0,s.jsx)(N.E,{color:"disabled",children:"Never"}):r})}),sortType:(r,u)=>new Date(r.original.lastSeenAt).getTime()-new Date(u.original.lastSeenAt).getTime()},{id:"role",header:"Role",cell:({cell:{value:r},row:{original:u}})=>{const b=H(u),ns=async(I,ts,rs)=>{await(0,Y.eA)(I,ts,rs),$&&$()};return L.contextSrv.licensedAccessControlEnabled()?(0,s.jsx)(V.y,{userId:u.userId,roles:u.roles,apply:!0,onApplyRoles:ns,isLoading:J,orgId:A,roleOptions:z,basicRole:r,onBasicRoleChange:I=>W(I,u),basicRoleDisabled:b,basicRoleDisabledMessage:Z,width:40}):(0,s.jsx)(j.r,{"aria-label":"Role",value:r,disabled:b,onChange:I=>W(I,u)})}},{id:"info",header:"",cell:({row:{original:r}})=>H(r)&&(0,s.jsx)(g.a,{display:"flex",alignItems:"center",marginLeft:1,children:(0,s.jsx)(y.m,{interactive:!0,content:(0,s.jsxs)("div",{children:["This user's role is not editable because it is synchronized from your auth provider. Refer to the\xA0",(0,s.jsx)("a",{href:"https://grafana.com/docs/grafana/latest/administration/user-management/manage-org-users/#change-a-users-organization-permissions",rel:"noreferrer",target:"_blank",children:"Grafana authentication docs"}),"\xA0for details."]}),children:(0,s.jsx)(F.I,{name:"question-circle"})})})},{id:"authLabels",header:"Origin",cell:({cell:{value:r}})=>(0,s.jsx)(s.Fragment,{children:Array.isArray(r)&&r.length>0&&(0,s.jsx)(D.E,{label:r[0],removeIcon:!1,count:0})})},{id:"isDisabled",header:"",cell:({cell:{value:r}})=>(0,s.jsx)(s.Fragment,{children:r&&(0,s.jsx)(d.v,{colorIndex:9,name:"Disabled"})})},{id:"delete",header:"",cell:({row:{original:r}})=>L.contextSrv.hasPermissionInMetadata(K.AccessControlAction.OrgUsersRemove,r)&&(0,s.jsx)(G.$n,{size:"sm",variant:"destructive",onClick:()=>{B(r)},icon:"times","aria-label":`Delete user ${r.name}`})}],[J,A,z,$,W]);return(0,s.jsxs)(f.B,{direction:"column",gap:2,"data-testid":w.container,children:[(0,s.jsx)(C.j,{columns:S,data:R,getRowId:r=>String(r.userId),fetchData:ms}),(0,s.jsx)(f.B,{justifyContent:"flex-end",children:(0,s.jsx)(M.d,{onNavigate:_,currentPage:ss,numberOfPages:es,hideWhenSinglePage:!0})}),!!E&&(0,s.jsx)(O.u,{body:`Are you sure you want to delete user ${E?.login}?`,confirmText:"Delete",title:"Delete",onDismiss:()=>{B(null)},isOpen:!0,onConfirm:()=>{E&&(q(E),B(null))}})]})}},23088:(xs,T,a)=>{a.d(T,{Z:()=>P});var s=a(74848),c=a(32196),x=a(40845);const P=({children:g})=>{const y=(0,x.of)(N);return(0,s.jsx)("div",{className:y.container,children:g})},N=g=>({container:(0,c.css)({backgroundColor:g.colors.background.secondary,color:g.colors.text.secondary,padding:g.spacing(4),textAlign:"center"})})}}]);

//# sourceMappingURL=UserListPage.f7a6b402506ca350a921.js.map